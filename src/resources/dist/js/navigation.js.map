{"version":3,"sources":["../../src/js/navigation.js"],"names":["Craft","Navigation","$","generateSelect","options","html","each","index","value","disabled","label","element","selected","val","Garnish","Base","extend","nav","siteId","structure","structureElements","elementType","elementModals","$builderContainer","$structureContainer","$emptyContainer","$addElementButton","$addElementLoader","$manualForm","$manualLoader","$template","init","settings","this","data","$structureElements","find","i","length","$structureElement","id","StructureElement","addListener","showModal","e","currentTarget","show","createModal","createElementSelectorModal","criteria","enabledForSite","sources","multiSelect","onSelect","proxy","onModalSelect","elements","$optionsContainer","replace","parentId","newWindow","$body","removeClass","navId","elementId","elementSiteId","title","url","type","saveNode","onManualSubmit","preventDefault","addNode","level","classNameParts","split","pop","nodeHtml","enabled","$node","structureId","$container","attr","appendTo","$appendTo","newParentId","$li","closest","$parentContainer","parentLevel","structureDrag","addItems","css","velocity","margin-bottom","postActionRequest","response","textStatus","addClass","success","node","parentOptions","cp","displayNotice","t","displayError","message","container","$elements","$element","$settingsBtn","$deleteBtn","onDragStop","nodeId","setTimeout","showSettings","Editor","removeNode","nodeIds","$nodes","confirmation","confirm","removeElement","Object","keys","errors","$form","$fieldsContainer","$cancelBtn","$saveBtn","$spinner","hud","showEditor","$hudContents","initUiElements","$footer","$buttonsContainer","add","HUD","bodyClass","closeOtherHUDs","on","serialize","$status","parent","$target","text","closeHud","shake","$hud","hide","jQuery"],"mappings":"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"}