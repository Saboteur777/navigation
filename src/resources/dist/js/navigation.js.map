{"version":3,"sources":["../../src/js/navigation.js"],"names":["Craft","Navigation","$","generateSelect","$element","options","html","selected","val","each","index","value","label","Garnish","Base","extend","nav","siteId","structure","structureElements","elementType","elementModals","$builderContainer","$structureContainer","$emptyContainer","$addElementButton","$addElementLoader","$manualForm","$manualLoader","$template","init","settings","this","data","$structureElements","find","i","length","$structureElement","id","StructureElement","addListener","showModal","e","currentTarget","show","createModal","createElementSelectorModal","criteria","enabledForSite","sources","multiSelect","onSelect","proxy","onModalSelect","elements","$optionsContainer","replace","parentId","newWindow","element","$body","removeClass","navId","elementId","title","url","type","saveNode","onManualSubmit","preventDefault","addNode","nodeHtml","enabled","elementDisplayName","$node","$appendTo","$container","newParentId","$li","closest","$parentContainer","parentLevel","appendTo","structureDrag","addItems","css","velocity","margin-bottom","postActionRequest","response","textStatus","addClass","success","node","parentOptions","cp","displayNotice","t","displayError","message","container","$elements","$settingsBtn","$deleteBtn","onDragStop","nodeId","setTimeout","showSettings","Editor","removeNode","nodeIds","$nodes","confirm","removeElement","Object","keys","errors","$form","$fieldsContainer","$cancelBtn","$saveBtn","$spinner","hud","showEditor","$hudContents","initUiElements","$footer","$buttonsContainer","add","HUD","bodyClass","closeOtherHUDs","on","serialize","$status","parent","$target","text","closeHud","shake","$hud","hide","jQuery"],"mappings":"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","file":"navigation.js"}