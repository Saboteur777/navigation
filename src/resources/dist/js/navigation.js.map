{"version":3,"sources":["../../src/js/navigation.js"],"names":["Craft","Navigation","$","generateSelect","options","html","each","index","value","disabled","label","element","selected","val","Garnish","Base","extend","nav","siteId","structure","structureElements","elementType","elementModals","$builderContainer","$structureContainer","$emptyContainer","$addElementButton","$addElementLoader","$manualForm","$manualLoader","$template","init","settings","this","data","$structureElements","find","i","length","$structureElement","id","StructureElement","addListener","showModal","e","currentTarget","show","createModal","createElementSelectorModal","criteria","enabledForSite","sources","multiSelect","onSelect","proxy","onModalSelect","elements","$optionsContainer","replace","parentId","newWindow","$body","removeClass","navId","elementId","elementSiteId","title","url","type","saveNode","onManualSubmit","preventDefault","addNode","classNameParts","split","pop","nodeHtml","enabled","$node","$appendTo","$container","newParentId","$li","closest","$parentContainer","parentLevel","appendTo","structureDrag","addItems","css","velocity","margin-bottom","postActionRequest","response","textStatus","addClass","success","node","parentOptions","cp","displayNotice","t","displayError","message","container","$elements","$element","$settingsBtn","$deleteBtn","onDragStop","nodeId","setTimeout","showSettings","Editor","removeNode","nodeIds","$nodes","confirmation","confirm","removeElement","Object","keys","errors","$form","$fieldsContainer","$cancelBtn","$saveBtn","$spinner","hud","showEditor","$hudContents","initUiElements","$footer","$buttonsContainer","add","HUD","bodyClass","closeOtherHUDs","on","serialize","$status","parent","$target","text","closeHud","shake","$hud","hide","jQuery"],"mappings":"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"}