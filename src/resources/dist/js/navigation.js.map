{"version":3,"sources":["../../src/js/navigation.js"],"names":["$","on","e","preventDefault","val","this","data","submit","Craft","Navigation","generateSelect","options","html","each","index","value","disabled","label","element","selected","Garnish","Base","extend","nav","siteId","structure","structureElements","elementType","elementModals","$builderContainer","$structureContainer","$emptyContainer","$addElementButton","$addElementLoader","$manualForm","$manualLoader","$nodeTypeForm","$nodeTypeLoader","$template","init","settings","$structureElements","find","i","length","$structureElement","id","StructureElement","addListener","showModal","currentTarget","show","createModal","createElementSelectorModal","criteria","enabledForSite","sources","multiSelect","onSelect","proxy","onModalSelect","elements","$optionsContainer","replace","parentId","newWindow","$body","removeClass","navId","elementId","elementSiteId","title","url","type","saveNode","onManualSubmit","onNodeTypeSubmit","parents","addNode","level","classNameParts","split","pop","nodeHtml","enabled","$node","structureId","$container","attr","appendTo","$appendTo","newParentId","$li","closest","$parentContainer","parentLevel","structureDrag","addItems","css","velocity","margin-bottom","postActionRequest","response","textStatus","addClass","success","node","parentOptions","cp","displayNotice","t","displayError","message","container","$elements","$element","$settingsBtn","$deleteBtn","onDragStop","nodeId","setTimeout","showSettings","Editor","removeNode","nodeIds","$nodes","confirmation","confirm","removeElement","Object","keys","errors","$form","$fieldsContainer","$cancelBtn","$saveBtn","$spinner","hud","showEditor","$hudContents","requestAnimationFrame","appendHeadHtml","headHtml","appendFootHtml","footHtml","initUiElements","$footer","$buttonsContainer","add","HUD","bodyClass","closeOtherHUDs","remove","initEventListeners","$elementSelect","elementSelect","onSelectElements","$typeSelect","$typeSpinner","parent","onSelectType","serialize","$status","$target","text","closeHud","shake","$hud","hide","jQuery"],"mappings":"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"}