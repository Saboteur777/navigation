{"version":3,"sources":["../../src/js/navigation.js"],"names":["Craft","Navigation","$","generateSelect","options","html","each","index","value","disabled","label","element","selected","val","Garnish","Base","extend","nav","siteId","structure","structureElements","elementType","elementModals","$builderContainer","$structureContainer","$emptyContainer","$addElementButton","$addElementLoader","$manualForm","$manualLoader","$template","init","settings","this","data","$structureElements","find","i","length","$structureElement","id","StructureElement","addListener","showModal","e","currentTarget","show","createModal","createElementSelectorModal","criteria","enabledForSite","sources","multiSelect","onSelect","proxy","onModalSelect","elements","$optionsContainer","replace","parentId","newWindow","$body","removeClass","navId","elementId","title","url","type","saveNode","onManualSubmit","preventDefault","addNode","nodeHtml","enabled","elementDisplayName","$node","$appendTo","$container","newParentId","$li","closest","$parentContainer","parentLevel","appendTo","structureDrag","addItems","css","velocity","margin-bottom","postActionRequest","response","textStatus","addClass","success","node","parentOptions","cp","displayNotice","t","displayError","message","container","$elements","$element","$settingsBtn","$deleteBtn","onDragStop","nodeId","setTimeout","showSettings","Editor","removeNode","nodeIds","$nodes","confirm","removeElement","Object","keys","errors","$form","$fieldsContainer","$cancelBtn","$saveBtn","$spinner","hud","showEditor","$hudContents","initUiElements","$footer","$buttonsContainer","add","HUD","bodyClass","closeOtherHUDs","on","serialize","$status","parent","$target","text","closeHud","shake","$hud","hide","jQuery"],"mappings":"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","file":"navigation.js"}